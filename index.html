<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>An√°lisis de Flujo de Datos Simulado con Spark y Jekyll</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="page-header">
    <h1>üèãÔ∏è‚Äç‚ôÇÔ∏è An√°lisis de Flujo de Datos Simulado con Spark y Jekyll</h1>
    <h2>Aplicando anal√≠tica avanzada en una tienda de ropa deportiva tipo Gymshark</h2>
  </header>

  <!-- üîó Enlace al post de Jekyll -->
  <nav>
    <a href="/2025/11/03/analisis-flujo-streaming.html">An√°lisis: Flujo de datos simulado</a>
  </nav>

  <main class="main-content">
    <!-- INTRODUCCI√ìN -->
    <section class="intro">
      <p>
        En este proyecto aplicamos t√©cnicas de <strong>anal√≠tica avanzada</strong> con <strong>Python</strong> y <strong>Apache Spark</strong> para procesar un flujo de datos simulado en una tienda de ropa deportiva online. 
        El objetivo es detectar patrones de clics y navegaci√≥n de usuarios en tiempo real.
      </p>
    </section>

    <!-- ESCENARIO -->
    <section class="scenario">
      <h3>üöÄ Escenario seleccionado</h3>
      <p>
        Imaginamos una tienda similar a <strong>Gymshark</strong> que analiza clics en tiempo real para entender el comportamiento del cliente, 
        optimizar campa√±as y mejorar la experiencia del usuario.
      </p>
    </section>

    <!-- DATASET -->
    <section class="data-section">
      <h3>üìä Dataset simulado</h3>
      <p>
        Se genera un archivo <code>CSV</code> con columnas como <code>usuario_id</code>, <code>producto</code>, 
        <code>clicks</code>, <code>tiempo_sesion</code> y <code>pais</code>.
      </p>

      <div class="card code-card">
        <pre><code>usuario_id,producto,clicks,tiempo_sesion,pais
1,Camiseta Compresi√≥n,12,300,Colombia
2,Leggins Mujer,8,240,M√©xico
3,Short Hombre,20,410,Espa√±a
4,Top Deportivo,7,190,Argentina
5,Suplementos,15,380,Chile</code></pre>
      </div>
    </section>

    <!-- PROCESAMIENTO PYSPARK -->
    <section class="spark-section">
      <h3>‚öôÔ∏è Procesamiento con PySpark</h3>
      <p>
        Se utiliza <strong>PySpark</strong> para calcular promedios de clics y tiempo de sesi√≥n por pa√≠s. 
        Este enfoque permite escalar el an√°lisis en grandes vol√∫menes de datos.
      </p>

      <div class="card code-card">
        <pre><code>from pyspark.sql import SparkSession
from pyspark.sql.functions import avg

# Crear sesi√≥n Spark
spark = SparkSession.builder.appName("AnalisisFlujoGym").getOrCreate()

# Cargar CSV simulado
df = spark.read.csv("data_simulada.csv", header=True, inferSchema=True)

# Calcular m√©tricas por pa√≠s
metricas = df.groupBy("pais").agg(
    avg("clicks").alias("Promedio_Clicks"),
    avg("tiempo_sesion").alias("Promedio_Tiempo_Sesion")
)

metricas.show()</code></pre>
      </div>
    </section>

    <!-- STREAMING -->
    <section class="streaming-section">
      <h3>üåê Procesamiento de flujo en tiempo real</h3>
      <p>
        A continuaci√≥n se muestra un flujo simulado (Spark Streaming / bucle Python) donde se cuentan los clics por usuario en ventanas de 1 minuto:
      </p>

      <div class="card code-card">
        <pre><code>import time
import pandas as pd
import matplotlib.pyplot as plt

# Simular flujo continuo
usuarios = ["User1", "User2", "User3"]
clicks = {"User1": 0, "User2": 0, "User3": 0}

for minuto in range(3):
    print(f"--- Minuto {minuto+1} ---")
    for user in usuarios:
        clicks[user] += int(10 * abs(pd.np.random.randn()))
    print(clicks)
    time.sleep(1)

# Visualizaci√≥n
df = pd.DataFrame(list(clicks.items()), columns=["Usuario", "Total_Clicks"])
df.plot.bar(x="Usuario", y="Total_Clicks", legend=False, color="#1d70b8")
plt.title("Clics por usuario (simulaci√≥n en 1 minuto)")
plt.xlabel("Usuario")
plt.ylabel("Clics")
plt.tight_layout()
plt.savefig("grafico_clics.png")
plt.show()</code></pre>
      </div>

      <div class="card image-card">
        <img src="assets/images/grafico_clicks.png" alt="Gr√°fico de clics por usuario">
        <p class="caption">Figura 1. Clics acumulados por usuario tras el procesamiento del flujo simulado.</p>
      </div>

      <div class="card image-card">
        <img src="assets/images/ssclicksfromter.png" alt="Gr√°fico de clics por usuario desde terminal">
        <p class="caption">Figura 2. Clics acumulados por minuto por parte del usuario tras el procesamiento del flujo simulado desde la terminal de Visual Studio Code (PowerShell).</p>
      </div>
    </section>

    <!-- RESULTADOS -->
    <section class="results-section">
      <h3>üìà Resultados esperados</h3>
      <p>
        El procesamiento permite observar los usuarios con mayor actividad, tiempos de sesi√≥n altos y patrones por pa√≠s.
      </p>

      <div class="card table-card">
        <pre><code>+-----------+----------------+------------------------+
| Pa√≠s      | Promedio_Clicks| Promedio_Tiempo_Sesion |
+-----------+----------------+------------------------+
| Colombia  | 12.0           | 300.0                  |
| M√©xico    | 8.0            | 240.0                  |
| Espa√±a    | 20.0           | 410.0                  |
| Argentina | 7.0            | 190.0                  |
| Chile     | 15.0           | 380.0                  |
+-----------+----------------+------------------------+</code></pre>
      </div>
    </section>

    <!-- DESPLIEGUE -->
    <section class="deployment-section">
      <h3>üöÄ Despliegue y arquitectura del blog</h3>
      <ul>
        <li>El blog se gener√≥ con <strong>Jekyll</strong> usando el tema <em>Cayman</em>.</li>
        <li>Se despleg√≥ en <strong>GitHub Pages</strong> para publicaci√≥n est√°tica.</li>
        <li>La estructura incluye p√°ginas de an√°lisis, gr√°ficos e informes en formato Markdown.</li>
      </ul>
    </section>

    <!-- CONCLUSIONES -->
    <section class="reflection-section">
      <h3>üí° Reflexi√≥n: Procesamiento por lotes vs Streaming</h3>
      <p>
        El <strong>procesamiento por lotes</strong> analiza grandes vol√∫menes de datos hist√≥ricos en intervalos definidos, 
        ideal para informes y an√°lisis profundos.  
        En cambio, el <strong>streaming</strong> procesa los datos en tiempo real, permitiendo decisiones inmediatas basadas en eventos actuales.  
        En el contexto empresarial, la combinaci√≥n de ambos modelos permite estrategias predictivas y reactivas m√°s efectivas.
      </p>
    </section>
  </main>

  <footer class="page-footer">
    <p>Desarrollado por <strong>Juan Camilo Rodr√≠guez</strong> ¬∑ Inspirado en el tema Cayman de Jekyll</p>
  </footer>
</body>
</html>
